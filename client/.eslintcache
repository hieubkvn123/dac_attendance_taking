[{"/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/index.js":"1","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/App.js":"2","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/reportWebVitals.js":"3","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/register.js":"4","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/thankyoupage.js":"5","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/qr.js":"6"},{"size":500,"mtime":1610948849278,"results":"7","hashOfConfig":"8"},{"size":1043,"mtime":1611245942599,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1610948849278,"results":"10","hashOfConfig":"8"},{"size":3803,"mtime":1611248873803,"results":"11","hashOfConfig":"8"},{"size":641,"mtime":1611252547664,"results":"12","hashOfConfig":"8"},{"size":4852,"mtime":1611252571214,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1aqruyk",{"filePath":"17","messages":"18","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"16"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"16"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"16"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},"/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/index.js",[],["31","32"],"/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/App.js",["33","34"],"import logo from './logo.svg';\nimport './App.css';\n\n/* Import components */\nimport { Component } from 'react'\nimport RegistrationForm from './registration/register'\nimport ThankyouPage from './registration/thankyoupage'\nimport QRCodeScanner, { QRCodeDiv } from './registration/qr'\n\n/* Import navigation */\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect\n} from 'react-router-dom'\n\nimport { LastLocationProvider } from 'react-router-last-location'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n    \t<Router>\n    \t\t<LastLocationProvider>\n    \t\t\t<Switch>\n                    <Route path='/qrcode/:data' component={QRCodeDiv}></Route>\n    \t\t\t\t<Route path='/registration'><RegistrationForm/></Route>\n    \t\t\t\t<Route path='/thankyou'><ThankyouPage/></Route>\n    \t\t\t\t<Route path='/attendance'><QRCodeScanner/></Route>\n    \t\t\t\t<Route exact path='/' render = {() =>{\n    \t\t\t\t\treturn (<Redirect to=\"/registration\"/>)\n    \t\t\t\t}}/>\n    \t\t\t</Switch>\n    \t\t</LastLocationProvider>\n    \t</Router>\n    </div>\n  );\n}\n\nexport default App;\n","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/reportWebVitals.js",[],"/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/register.js",["35","36"],"import React, { Component } from 'react'\nimport axios from 'axios'\n\n/* Import css */\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './css/main.css'\n\nclass RegistrationForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.state = {\n\t\t\t'current_events' : [],\n\t\t\t'selected_event' : \"\"\n\t\t}\n\n\t\t// bind event handlers\n\t\tthis.componentDidMount = this.componentDidMount.bind(this)\n\t\tthis.onChange = this.onChange.bind(this)\n\t\tthis.onSubmit = this.onSubmit.bind(this)\n\t}\n\n\tcomponentDidMount() { \n\t\t// query the database for list of events\n\t\taxios({\n\t\t\turl : 'http://localhost:8080/list-events',\n\t\t\tmethod : 'POST',\n\t\t\theaders : {\n\t\t\t\t'Content-Type' : 'multipart/form-data'\n\t\t\t}\n\t\t}).then(response => response.data)\n\t\t.then(response =>  this.setState({current_events : response, selected_event : response[0]}))\n\t\t.catch(error => console.log(error))\n\t}\n\n\tonChange(event) {\n\t\tthis.setState({ [event.target.id] : event.target.value })\n\t}\n\n\tonSubmit(event) {\n\t\t// Check if all fields are filled in\n\t\tconst required_fields = ['selected_event', 'first-name',\n\t\t\t\t\t\t\t\t 'last-name', 'email', 'sim-id']\n\n\t\tvar enoughData = true\n\t\trequired_fields.forEach((value, index) => {\n\t\t\tif(enoughData && (this.state[value] == null || this.state[value] == \"\")){\n\t\t\t\tenoughData = false\n\t\t\t\talert('Please fill in all the details')\n\t\t\t}\n\t\t})\n\n\t\tif(enoughData) {\n\t\t\tvar formData = new FormData()\n\t\t\trequired_fields.forEach((value, index) => {\n\t\t\t\tformData.append(value, this.state[value])\n\t\t\t})\n\n\t\t\taxios({\n\t\t\t\turl : 'http://localhost:8080/add-participant',\n\t\t\t\tmethod : 'post',\n\t\t\t\tdata : formData,\n\t\t\t\theaders : {\n\t\t\t\t\t'Content-Type' : 'multipart/form-data'\n\t\t\t\t}\n\t\t\t}).then(response => response.data)\n\t\t\t.then(response => {\n\t\t\t\tif(response !== 'failed') {\n\t\t\t\t\t// redirect to thank you page\n\t\t\t\t\twindow.location.replace(`/qrcode/${response}`)\n\t\t\t\t}else{\n\t\t\t\t\talert('There is something wrong with the server, please try again later')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\t\t}\n\t}\n\n\tcomponentWillUnmount() { }\n\n\trender() {\n\t\treturn (\n\t\t\t<div id='container'>\n\t\t\t\t<canvas id=\"canvas\"></canvas>\n\t\t\t\t<script type=\"text/javascript\" src=\"http://localhost:3000/assets/js/background.js\"></script>\n\n\t\t\t\t<form id='registration-form'>\n\t\t\t\t\t<h3>Sign Up</h3>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Select Event</label>\n\t\t\t\t\t\t<select className='form-control' id='selected_event' onChange={this.onChange}>\n\t\t\t\t\t\t\t{this.state.current_events.map((value, index) => {\n\t\t\t\t\t\t\t\tif(index == 0){\n\t\t\t\t\t\t\t\t\treturn (<option value={value} default selected=\"\">{value}</option>)\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\treturn (<option value={value}>{value}</option>)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>First name</label>\n\t\t\t\t\t\t<input id='first-name' onChange={this.onChange} type=\"text\" className=\"form-control\" placeholder=\"First name\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Last name</label>\n\t\t\t\t\t\t<input id='last-name' onChange={this.onChange} type=\"text\" className=\"form-control\" placeholder=\"Last name\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>Email address</label>\n\t\t\t\t\t\t<input id='email' onChange={this.onChange} type=\"email\" className=\"form-control\" placeholder=\"Enter email\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label>SIM ID</label>\n\t\t\t\t\t\t<input id='sim-id' onChange={this.onChange} type=\"text\" className=\"form-control\" placeholder=\"Enter SIM ID\" />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<button onClick={this.onSubmit} type=\"button\" className=\"btn btn-primary btn-block\">Sign Up</button>\n\t\t\t\t\t<a href='/attendance' style={{'color' : 'blue', \n\t\t\t\t\t\t'text-decoration':'underline',\n\t\t\t\t\t\t'cursor' : 'pointer', \n\t\t\t\t\t\t'float':'right'}}>Take Attendance</a>\n\t\t\t\t</form>\n\t\t\t</div>\n        )\n\t}\n}\n\nexport default RegistrationForm;","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/thankyoupage.js",["37"],"import React, { Component } from 'react'\n\n/* Import css */\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nclass ThankyouPage extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t}\n\n\tcomponentDidMount() { }\n\tcomponentDidUnmount() { }\n\n\trender() {\n\n\t\treturn (\n\t\t\t<div class=\"jumbotron text-center\">\n\t\t\t\t<h1 class=\"display-3\">Thank You!</h1>\n\t\t\t\t<p class=\"lead\">\n\t\t\t\t\tThank you, your attendance has been marked\n\t\t\t\t</p>\n\t\t\t\t<hr/>\n\t\t\t\t<canvas id='qr-canvas'></canvas>\n\t\t\t\t\n\t\t\t\t<p class=\"lead\">\n\t\t\t\t\t<a class=\"btn btn-primary btn-sm\" href=\"/\" role=\"button\">Continue to homepage</a>\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t)\n\n\t}\n}\n\nexport default ThankyouPage;","/home/hieu/Desktop/Hieu/Python/other_git/dac_attendance_taking/client/src/registration/qr.js",["38","39"],"import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Modal, Button } from 'react-bootstrap'\nimport QRCode from 'qrcode.react'\nimport axios from 'axios'\n\n/* Import CSS */\nimport './css/qr.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nexport class QRCodeDiv extends Component {\n\tconstructor(props){\n\t\tsuper(props)\n\n\t\tthis.state = {\n\n\t\t}\n\n\t\tthis.download = this.download.bind(this)\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.setState({event_id : this.props.match.params.data.split('-')[1]})\n\t\tthis.setState({sim_id : this.props.match.params.data.split('-')[0]})\n\t\tthis.download()\n\t}\n\n\tdownload() {\n\t    const canvas: any = document.querySelector('.HpQrcode');\n\t    this.downloadRef.href = canvas.toDataURL();\n\t    this.downloadRef.download = this.props.match.params.data + \"-QR.png\";\n\t}\n\n\tredirect() {\n\t\twindow.location.replace('/')\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id='qr-container'>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<QRCode style={{'display' : 'block'}} value={this.props.match.params.data} className=\"HpQrcode\" size={256}/>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<a onClick={this.redirect} style={{'display' : 'block','margin-top' : '22px'}} className='btn btn-primary' ref={(ref: any): any => this.downloadRef = ref}>Download QR Code</a>\n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t\t<table style={{'margin-left' : '22px'}}>\n\t\t\t\t\t<tr>You have registered for event <strong>{this.state.event_id}</strong></tr>\n\t\t\t\t\t<tr>Your SIM ID is <strong>{this.state.sim_id}</strong></tr>\n\t\t\t\t\t<tr>Please download the QR code for attendance taking on the event date</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nclass QRCodeScanner extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tsrcObj : null,\n\t\t\tdisplay_modal : false,\n\t\t\tattendance_interval : null\n\t\t}\n\n\t\t/* Binding event handlers */\n\t\tthis.setCameraStream = this.setCameraStream.bind(this)\n\t\tthis.componentDidMount = this.componentDidMount.bind(this)\n\t\tthis.handleCloseModal = this.handleCloseModal.bind(this)\n\t}\n\n\tcomponentDidMount = async function() {\n\t\t// find the user camera\n\t\tvar recordingHint = {\n\t\t\t'video' : true\n\t\t}\n\n\t\tvar video = document.getElementById('qr-video')\n\t\tvar canvas = document.getElementById('qr-canvas')\n\t\tvar context = canvas.getContext('2d')\n\t\tvar width = video.width\n\t\tvar height = video.height\n\n\t\tvar cameraStream = null\n\t\tawait navigator.mediaDevices.getUserMedia(recordingHint).then(function(camera){\n\t\t\tcameraStream = camera\n\n\t\t\tvideo.srcObject = camera\n\t\t})\n\n\t\t// set an interval to continuously send data to server\n\t\tvar attendanceInterval = setInterval(() => {\n\t\t\t// console.log('Sending data')\n\t\t\tcontext.drawImage(video, 0, 0, width, height)\n\t\t\tconsole.log(width, height)\n\n\t\t\tvar dataURL = canvas.toDataURL().split(',')[1]\n\t\t\tvar blobBin = atob(dataURL)\n\t\t\tvar array = []\n\n\t\t\tfor(var i = 0; i < blobBin.length; i++){\n\t\t\t\tarray.push(blobBin.charCodeAt(i))\n\t\t\t}\n\n\t\t\tvar blob = new Blob([new Uint8Array(array)], {type:'img/jpg'})\n\t\t\tvar formData = new FormData()\n\t\t\tformData.append('img', blob)\n\n\t\t\taxios({\n\t\t\t\turl : 'http://localhost:8080/qrcode',\n\t\t\t\tmethod : 'POST',\n\t\t\t\tdata : formData,\n\t\t\t\theaders : {\n\t\t\t\t\t'Content-Type' : 'multipart/form-data'\n\t\t\t\t}\n\t\t\t}).then(response => response.data)\n\t\t\t.then(response => {\n\t\t\t\tif(response === 'more_than_one'){\n\t\t\t\t\talert('Please display only one QR code on the screen')\n\t\t\t\t}else if(response === 'invalid_format'){\n\t\t\t\t\talert('Please display the correct QR code')\n\t\t\t\t}else if(response === 'not_registered'){\n\t\t\t\t\talert('You are not registered in this event')\n\t\t\t\t}else if(response === 'attended'){\n\t\t\t\t\talert('You have attended this event')\n\t\t\t\t}else if(response === 'success'){\n\t\t\t\t\t// Do somthing here\n\t\t\t\t\twindow.location.replace('/thankyou')\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err))\n\n\t\t}, 500)\n\n\t\tthis.setCameraStream(cameraStream)\n\t\tthis.setState({attendance_interval : attendanceInterval})\n\t\tthis.setState({display_modal : true})\n\t}\n\tcomponentWillUnmount() {}\n\n\tsetCameraStream(camera) {\n\t\tthis.setState({srcObj : camera})\n\t}\n\n\thandleCloseModal() {\n\t\tthis.setState({display_modal : false})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div id='camera-container'>\n\t\t\t\t{/* Display a modal dialog to prompt */}\n\t\t\t\t<Modal show={this.state.display_modal} \n\t\t\t\t\tonHide={this.handleCloseModal} \n\t\t\t\t\tbackdrop=\"static\" \n\t\t\t\t\tkeyboard={true}\n\t\t\t\t\tcentered>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>DAC Attendance</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t\n\t\t\t\t\t<Modal.Body>Please present the QR Code for the event to take attendance</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"primary\" onClick={this.handleCloseModal}>Yup, Got it!</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Modal>\n\n\t\t\t\t<div id='camera-region'>\n\t\t\t\t\t<video id='qr-video' autoplay=\"\" width={720} height={540}></video>\n\t\t\t\t\t<canvas id='qr-canvas' hidden width={720} height={540}></canvas>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default QRCodeScanner;",{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":1,"column":8,"nodeType":"46","messageId":"47","endLine":1,"endColumn":12},{"ruleId":"44","severity":1,"message":"48","line":5,"column":10,"nodeType":"46","messageId":"47","endLine":5,"endColumn":19},{"ruleId":"49","severity":1,"message":"50","line":47,"column":69,"nodeType":"51","messageId":"52","endLine":47,"endColumn":71},{"ruleId":"49","severity":1,"message":"50","line":94,"column":18,"nodeType":"51","messageId":"52","endLine":94,"endColumn":20},{"ruleId":"53","severity":1,"message":"54","line":7,"column":2,"nodeType":"55","messageId":"56","endLine":9,"endColumn":3},{"ruleId":"44","severity":1,"message":"57","line":2,"column":8,"nodeType":"46","messageId":"47","endLine":2,"endColumn":16},{"ruleId":"58","severity":1,"message":"59","line":46,"column":7,"nodeType":"60","endLine":46,"endColumn":162},"no-native-reassign",["61"],"no-negated-in-lhs",["62"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","'Component' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'ReactDOM' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation"]